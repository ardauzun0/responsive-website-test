<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./src/output.css">
    <title>Test</title>
</head>

<body>
    <section class="main-section h-dvh flex justify-center items-center">
        <div class="container max-w-[1440px] mx-auto">
            <div class="wrapper">
                <div class="heading-wrapper">
                    <h1 class="title text-4xl text-black font-semibold text-center">Website Test Project</h1>
                </div>
                <div class="inner-wrapper">
                    <div class="search-field w-fit mx-auto mt-8">
                        <input type="text" name="" id=""
                            class="search-website h-10 text-lg text-black border border-solid border-black px-4 !appearance-none !resize-none !outline-none min-w-[420px]"
                            placeholder="Website Url">
                        <button
                            class="submit-button px-4 w-fit h-10 min-w-[120px] bg-slate-700 text-white">Test</button>
                    </div>
                    <div class="flex gap-8 mt-16">
                        <div class="desktop-field">
                            <div
                                class="title text-3xl font-bold text-black text-center mb-9 pb-3 border-0 border-b border-solid border-black">
                                DESKTOP</div>
                            <div class="viewer relative -z-2"></div>
                            <div class="max-w-[1280px] w-full h-auto relative pointer-events-none z-20 overflow-hidden">
                                <img src="./assets/png/iMac.png" alt="" class="size-full object-cover object-center">
                            </div>
                        </div>
                        <div class="laptop-field relative">
                            <div
                                class="title text-3xl font-bold text-black text-center mb-9 pb-3 border-0 border-b border-solid border-black">
                                LAPTOP</div>
                            <div class="viewer relative -z-2"></div>
                            <div class="max-w-[1280px] w-full h-auto relative pointer-events-none z-20 overflow-hidden">
                                <img src="./assets/png/macbook.png" alt=""
                                    class="size-full object-contain object-center">
                            </div>
                        </div>
                        <div class="tablet-field relative">
                            <div
                                class="title text-3xl font-bold text-black text-center mb-9 pb-3 border-0 border-b border-solid border-black">
                                IPAD</div>
                            <div class="viewer relative -z-2"></div>
                            <div class="max-w-[1280px] w-full h-auto relative pointer-events-none z-20 overflow-hidden">
                                <img src="./assets/png/ipad.png" alt="" class="size-full object-contain object-center">
                            </div>
                        </div>
                        <div class="phone-field relative">
                            <div
                                class="title text-3xl font-bold text-black text-center mb-9 pb-3 border-0 border-b border-solid border-black">
                                PHONE</div>
                            <div class="viewer relative -z-2"></div>
                            <div class="max-w-[1280px] w-full h-auto relative pointer-events-none z-20 overflow-hidden">
                                <img src="./assets/png/iphone.png" alt=""
                                    class="size-full object-contain object-center">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>

<script>
    // DOM elemanlarını seçme
    const submitButton = document.querySelector('.submit-button');
    const desktopView = document.querySelector('.desktop-field .viewer');
    const tabletViewer = document.querySelector('.tablet-field .viewer');
    const laptopViewer = document.querySelector('.laptop-field .viewer');
    const phoneViewer = document.querySelector('.phone-field .viewer');
    const searchWebsite = document.querySelector('.search-website');

    // Hata işleme işlevi
    function handleError() {
        alert('İçerik yüklenirken bir hata oluştu. Lütfen daha sonra tekrar deneyin.');
    }

    // İframe içeriğini güncelleme işlevi
    function updateIFrames(url) {
        desktopView.innerHTML = `<iframe src="${url}" class="absolute left-[-576px] top-[-400px] scale-y-[0.19] scale-x-[0.20]" width="1600" height="990"></iframe>`;
        laptopViewer.innerHTML = `<iframe src="${url}" class="absolute left-[-412px] top-[-276px] scale-x-[0.28] scale-y-[0.29]" width="1280" height="800"></iframe>`;
        tabletViewer.innerHTML = `<iframe src="${url}" class="absolute left-[-299px] top-[-450px] scale-[0.22]" width="820" height="1180"></iframe>`;
        phoneViewer.innerHTML = `<iframe src="${url}" class="absolute left-[-104px] top-[-343px] scale-[0.26] overflow-hidden rounded-[40px]" width="430" height="932"></iframe>`;
    }

    // Submit butonu tıklama olayı dinleyicisi
    submitButton.addEventListener('click', async () => {
        let url = searchWebsite.value.trim();
        // YAZILAN URL DOĞRU FORMAT KONTROLÜ
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
            alert('Lütfen geçerli bir URL girin.');
            updateIFrames('');
            return;
        }
        updateIFrames(url);
    });

    // Klavye erişilebilirliği: Enter tuşuna basınca submit işlemini gerçekleştirme
    searchWebsite.addEventListener('keypress', function (e) {
        if (e.key === 'Enter') {
            submitButton.click();
        }
    });
</script>




</html>